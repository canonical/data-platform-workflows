# Copyright 2023 Canonical Ltd.
# See LICENSE file for licensing details.

# Usage documentation: lint.md

on:
  workflow_call:

jobs:
  tox-lint:
    name: tox run -e lint
    runs-on: [self-hosted, linux, X64, jammy, small]
    timeout-minutes: 5
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Install tox & poetry
        run: |
          sudo apt-get install python3-pip python3-venv -y
          python3 -m pip install --user pipx
          python3 -m pipx ensurepath
          pipx install tox
          pipx install poetry
      - name: Run linters
        run: tox run -e lint
